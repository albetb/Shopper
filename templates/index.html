{% extends 'base.html' %}

{% block head %}
<title>Shopperino</title>
{% endblock %}


{% block lateral_menu %}
<ul class="lateral-menu">
    <li>
        <button id="toggle-textbox-button">New World</button>
        <input type="text" id="text-input" placeholder="New World Name" style="display: none;">
        <button id="save-button" style="display: none;">Save</button>
    </li>
    <li id="world-dropdown-container" style="display: none;">
        <h4>Saved Worlds:</h4>
        <select id="saved-text-dropdown"></select>
    </li>
    <li id="player-level-container" style="display: none;">
        <h4>Player Level:</h4>
        <input type="number" id="player-level-input" value="1" min="1">
    </li>
    <li id="create-city-container" style="display: none;">
        <button id="toggle-city-textbox-button">Add City</button>
        <input type="text" id="city-text-input" placeholder="City Name" style="display: none;">
        <button id="save-city-button" style="display: none;">Save</button>
    </li>
    <li id="cities-dropdown-container" style="display: none;">
        <h4>Cities in Selected World:</h4>
        <select id="saved-cities-dropdown"></select>
    </li>
    <li id="city-level-container" style="display: none;">
        <h4>City Level:</h4>
        <select id="city-level-dropdown">
            <option value="1">Burg</option>
            <option value="2">Village</option>
            <option value="3">Town</option>
            <option value="4">City</option>
            <option value="5">Metropolis</option>
        </select>
    </li>
</ul>
<script src="static/lateral_menu.js"></script>
{% endblock %}

{% block menu %}
<div class="menu_box">
    <div style="float: left; width: 50%;">
        <h1 style="text-align: left; margin-left: 25px;">Shopperino</h1>
    </div>
</div>

<div class="input_box_container">
    <form method="POST" action="/">
        <div class="input_box">

            <div class="itemx">
                <p> Player level:
                    <input name="player_level" type="number" style="width: 35px" max="20" min="1" value="{{default['player_level']}}">
                </p>
            </div>

            <div class="itemx">
                <p> City level:
                    <input name="city_level" value="{{default['city_level']}}" type="number" style="width: 35px" max="5" min="0">
                </p>
            </div>

            <div class="itemx">
                <p> Shop level:
                    <input name="shop_level" value="{{default['shop_level']}}" type="number" style="width: 35px" max="10" min="0">
                </p>
            </div>

            <div class="itemx">
                <p> Reputation:
                    <input name="reputation" value="{{default['reputation']}}" type="number" style="width: 35px" max="10" min="-10">
                </p>
            </div>

            <div class="itemx">
                <select name="shop_type">
                    <option value="{{default['shop_type']}}" selected>{{default['shop_type']}}</option>
                    {% for shoptype in shop_list[:] %}
                    {% if shoptype != default['shop_type']%}
                    <option value="{{shoptype}}">{{shoptype}}</option>
                    {% endif %}
                    {% endfor %}
                </select>
            </div>

            <div class="itemx">
                <button type="submit" style="border-radius:10px; box-shadow:2px 3px rgba(2, 76, 99, 0.603); height:30px; width:80px">New
                    shop</button>
            </div>
        </div>
    </div>
</form>
{% endblock %}

{% block body %}
<div class="content">
    {% if items|length > 0 %}
    <table>
        <tr style="border-bottom: 1px solid rgba(70, 70, 70, 0.4);">
            <th style="width: 4%; max-width: 80px; min-width: fit-content;">#</th>
            <th style="width: auto">Name</th>
            <th style="width: auto; min-width: 0px; max-width: fit-content;">
                   Type</th>
            <th style="min-width: fit-content; max-width: fit-content;">Cost</th>
        </tr>
        {% for item in items %}
        <tr>
            <td style="text-align: center;">{{ item["Number"] }}</td>
            {% if item["Link"] != "" %}
            <td class="text-align: left; margin-left: 5px;"><a href="{{item['Link']}}" target="_blank">{{ item["Name"] }}</a></td>
            {% else %}
            <td class="text-align: left; margin-left: 5px;">{{ item["Name"] }}</td>
            {% endif %}
            <td style="text-align: center;">{{ item["Type"] }}</td>
            <td style="text-align: right; margin-right: 5px;">{{ item["Cost"] }} gp</td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
</div>
{% endblock %}